<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stats</title>
    <link rel="stylesheet" href="/css/main.css">


    <script>
    function fetchStats(){
        const url = '/stats';
        fetch(url).then((response) => {
            return response.json();S
            }).then((stats) => {
            const statsContainer = document.getElementById('stats-container');
            statsContainer.innerHTML = '';
            const messageCountElement = buildStatElement('Message count: ' + stats.messageCount);
            statsContainer.appendChild(messageCountElement);
            });
           }
           function buildStatElement(statString){
            const statElement = document.createElement('p');

            statElement.appendChild(document.createTextNode(statString));
            return statElement;
           }

           function buildUI(){
            fetchStats();
           }
    </script>
</head>

<body onload="buildUI()">
<div id="content">
    <hi>Site Statistics</hi>
    <hr/>
    <div id="stats-container">Loading...</div>
</div>
</body>
</html>